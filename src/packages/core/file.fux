package core;

get sys;
get io;

file {

    class File {
        File(path: str = null, mode: c8 = 'r') {
            intern self.path :=== path;
            if (mode not in {'r', 'w', 'b', 'a'})
                io.err(1, "invalid mode '", mode, "' on file '", path, "'");
            intern self.mode :=== mode;
        }

        #File() {
            delete &path;
            delete &mode;
        }

        read(): str;
        
        write(final data: str): void;
    }

}